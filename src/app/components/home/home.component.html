<app-header></app-header>

<!-- Hero Section -->
<section class="hero-section position-relative">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&q=80&w=1200&h=500&fit=crop"
                    class="d-block w-100" alt="Pizza">
                <div class="carousel-caption text-start">
                    <h1 class="display-4 fw-bold">Thưởng thức Pizza Ngon</h1>
                    <p class="lead">Những chiếc bánh pizza thơm ngon với nhiều hương vị độc đáo</p>
                    <div class="mt-4">
                        <a href="#menu" class="btn btn-danger btn-lg rounded-pill px-4 me-2">Đặt hàng ngay</a>
                        <a href="#about" class="btn btn-outline-light btn-lg rounded-pill px-4">Tìm hiểu thêm</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Category Section -->
<!-- <section class="py-5">
    <div class="container">
        <h2 class="section-heading">Danh Mục Món Ăn</h2>
        <div class="row g-4">
          
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #ffecec;">
                            <i class="fas fa-pizza-slice text-danger fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Pizza</h5>
                    </div>
                </div>
            </div>

          
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #fff8e0;">
                            <i class="fas fa-hamburger text-warning fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Burger</h5>
                    </div>
                </div>
            </div>

            
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #e0f8e0;">
                            <i class="fas fa-utensils text-success fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Mỳ Ý</h5>
                    </div>
                </div>
            </div>

           
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #e0f0ff;">
                            <i class="fas fa-cheese text-primary fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Khai Vị</h5>
                    </div>
                </div>
            </div>

            
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #ffe0e0;">
                            <i class="fas fa-leaf text-danger fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Salad</h5>
                    </div>
                </div>
            </div>

            
            <div class="col-6 col-md-4 col-lg-2">
                <div class="card text-center h-100">
                    <div class="card-body p-3">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px; background-color: #e0f0ff;">
                            <i class="fas fa-glass-cheers text-info fa-2x"></i>
                        </div>
                        <h5 class="card-title mb-0">Đồ Uống</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> -->

<!-- Popular Menu Section -->
<section class="py-5 bg-light" id="menu">
    <div class="container">
        <h2 class="section-heading">Món Ăn Phổ Biến</h2>
        <div class="row g-4">
            <!-- Menu Item 1 -->
            <div class="col-md-6 col-lg-3" *ngFor="let pizza of pizzas">
                <div class="card h-100" (click)="onPizzaClick(pizza.id)" style="cursor: pointer;">
                    <div class="position-relative">
                        <img [src]="pizza.url" class="card-img-top" [alt]="pizza.name">
                        <span class="badge bg-danger position-absolute top-0 end-0 m-2">Bán chạy</span>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{pizza.name}}</h5>
                        <p class="card-text">{{pizza.description}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="text-danger fw-bold mb-0">{{(pizza.base_price) | number}}đ</h5>
                            <button class="btn btn-outline-danger rounded-pill" (click)="openPopup(pizza); $event.stopPropagation()">
                                <i class="fas fa-shopping-cart me-1"></i> Thêm
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Menu Item 2 -->
            <!-- <div class="col-md-6 col-lg-3">
                <div class="card h-100">
                    <div class="position-relative">
                        <img src="https://images.unsplash.com/photo-1594007654729-407eedc4fe3c?ixlib=rb-4.0.3&q=80&w=300&h=200&fit=crop"
                            class="card-img-top" alt="Pizza Gà Nướng">
                        <span class="badge bg-success position-absolute top-0 end-0 m-2">Mới</span>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Pizza Gà Nướng</h5>
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-muted"></i>
                            <span class="ms-2 text-muted">(98 đánh giá)</span>
                        </div>
                        <p class="card-text">Gà nướng, nấm, ớt chuông, hành tây, sốt BBQ, phô mai Mozzarella.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="text-danger fw-bold mb-0">159.000đ</h5>
                            <button class="btn btn-outline-danger rounded-pill"><i
                                    class="fas fa-shopping-cart me-1"></i> Thêm</button>
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- Menu Item 3 -->
            <!-- <div class="col-md-6 col-lg-3">
                <div class="card h-100">
                    <img src="https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?ixlib=rb-4.0.3&q=80&w=300&h=200&fit=crop"
                        class="card-img-top" alt="Pizza Bò Bằm">
                    <div class="card-body">
                        <h5 class="card-title">Pizza Bò Bằm</h5>
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <span class="ms-2 text-muted">(152 đánh giá)</span>
                        </div>
                        <p class="card-text">Pizza bò bằm, sốt cà chua đặc biệt, phô mai Parmesan.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="text-danger fw-bold mb-0">129.000đ</h5>
                            <button class="btn btn-outline-danger rounded-pill"><i
                                    class="fas fa-shopping-cart me-1"></i> Thêm</button>
                        </div>
                    </div>
                </div>
            </div> -->

            <!-- Menu Item 4 -->
            <!-- <div class="col-md-6 col-lg-3">
                <div class="card h-100">
                    <img src="https://images.unsplash.com/photo-1615719413546-198b25453f85?ixlib=rb-4.0.3&q=80&w=300&h=200&fit=crop"
                        class="card-img-top" alt="Salad Caesar">
                    <div class="card-body">
                        <h5 class="card-title">Salad Caesar</h5>
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star-half-alt text-warning"></i>
                            <span class="ms-2 text-muted">(87 đánh giá)</span>
                        </div>
                        <p class="card-text">Xà lách, ức gà nướng, bánh mì nướng, sốt Caesar, phô mai Parmesan.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="text-danger fw-bold mb-0">89.000đ</h5>
                            <button class="btn btn-outline-danger rounded-pill"><i
                                    class="fas fa-shopping-cart me-1"></i> Thêm</button>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>

        <div class="text-center mt-5">
            <a  class="btn btn-danger btn-lg rounded-pill px-4">Xem Tất Cả Món</a>
        </div>
    </div>
</section>

<!-- About Us Section -->
<section class="py-5" id="about">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <img src="https://plus.unsplash.com/premium_photo-1667682942148-a0c98d1d70db?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    alt="About Us" class="img-fluid rounded shadow" width="100%">
            </div>
            <div class="col-lg-6">
                <h2 class="section-heading text-start">Về PizZing</h2>
                <p class="lead">PizZing - Nơi những chiếc bánh pizza ngon nhất được làm ra.</p>
                <p>Thành lập vào năm 2010, PizZing đã trở thành một trong những thương hiệu pizza được yêu thích nhất
                    tại Việt Nam. Chúng tôi luôn sử dụng những nguyên liệu tươi ngon nhất, cùng với công thức đặc biệt
                    được các đầu bếp lành nghề nghiên cứu và phát triển.</p>
                <p>Không chỉ mang đến những chiếc bánh pizza thơm ngon, chúng tôi còn cam kết phục vụ khách hàng với
                    chất lượng dịch vụ tốt nhất, từ không gian cửa hàng đến dịch vụ giao hàng.</p>
                <div class="mt-4">
                    <a href="#" class="btn btn-danger rounded-pill px-4">Tìm hiểu thêm</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Why Choose Us Section -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="section-heading">Tại Sao Chọn PizZing?</h2>
        <div class="row g-4">
            <!-- Feature 1 -->
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 bg-transparent">
                    <div class="card-body text-center">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center bg-danger"
                            style="width: 80px; height: 80px;">
                            <i class="fas fa-pizza-slice text-white fa-2x"></i>
                        </div>
                        <h5 class="card-title">Nguyên Liệu Tươi Ngon</h5>
                        <p class="card-text">Chúng tôi chỉ sử dụng những nguyên liệu tươi ngon nhất để đảm bảo chất
                            lượng món ăn.</p>
                    </div>
                </div>
            </div>

            <!-- Feature 2 -->
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 bg-transparent">
                    <div class="card-body text-center">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center bg-warning"
                            style="width: 80px; height: 80px;">
                            <i class="fas fa-shipping-fast text-white fa-2x"></i>
                        </div>
                        <h5 class="card-title">Giao Hàng Nhanh Chóng</h5>
                        <p class="card-text">Dịch vụ giao hàng nhanh chóng trong vòng 30 phút để món ăn luôn nóng hổi.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Feature 3 -->
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 bg-transparent">
                    <div class="card-body text-center">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center bg-success"
                            style="width: 80px; height: 80px;">
                            <i class="fas fa-utensils text-white fa-2x"></i>
                        </div>
                        <h5 class="card-title">Công Thức Đặc Biệt</h5>
                        <p class="card-text">Công thức độc đáo được nghiên cứu và phát triển bởi các đầu bếp lành nghề.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Feature 4 -->
            <div class="col-md-6 col-lg-3">
                <div class="card h-100 border-0 bg-transparent">
                    <div class="card-body text-center">
                        <div class="rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center bg-info"
                            style="width: 80px; height: 80px;">
                            <i class="fas fa-headset text-white fa-2x"></i>
                        </div>
                        <h5 class="card-title">Dịch Vụ Khách Hàng</h5>
                        <p class="card-text">Đội ngũ nhân viên thân thiện, luôn sẵn sàng phục vụ và hỗ trợ khách hàng.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="py-5">
    <div class="container">
        <h2 class="section-heading">Khách Hàng Nói Gì Về Chúng Tôi</h2>
        <div class="row g-4">
            <!-- Testimonial 1 -->
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="card-text">"Pizza ở đây thật sự rất ngon! Bột bánh mỏng giòn, nhân đầy đặn và phô mai
                            kéo sợi. Tôi đặc biệt yêu thích Pizza Hải Sản của PizZing. Dịch vụ giao hàng cũng rất
                            nhanh."</p>
                        <div class="d-flex align-items-center mt-3">
                            <img src="https://randomuser.me/api/portraits/women/43.jpg" alt="Customer"
                                class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-0">Nguyễn Thị Hương</h6>
                                <small class="text-muted">Khách hàng thân thiết</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testimonial 2 -->
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star-half-alt text-warning"></i>
                        </div>
                        <p class="card-text">"Tôi và gia đình rất thích món Mỳ Ý Bò Bằm của PizZing. Sốt cà chua đặc
                            biệt kết hợp với bò bằm thật sự rất ngon. Không gian cửa hàng cũng rất thoải mái và sạch
                            sẽ."</p>
                        <div class="d-flex align-items-center mt-3">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Customer"
                                class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-0">Trần Văn Minh</h6>
                                <small class="text-muted">Khách hàng thân thiết</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testimonial 3 -->
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="d-flex mb-3">
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                            <i class="fas fa-star text-warning"></i>
                        </div>
                        <p class="card-text">"Đồ ăn ở PizZing không chỉ ngon mà còn được trình bày rất đẹp mắt. Nhân
                            viên phục vụ nhiệt tình, chu đáo. Tôi sẽ giới thiệu cho bạn bè và đồng nghiệp về PizZing."
                        </p>
                        <div class="d-flex align-items-center mt-3">
                            <img src="https://randomuser.me/api/portraits/women/67.jpg" alt="Customer"
                                class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-0">Lê Thị Mai</h6>
                                <small class="text-muted">Khách hàng mới</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Pizza Selection Popup -->
<div class="popup-overlay" *ngIf="popupVisible" (click)="closePopup()">
  <div class="popup-content" (click)="$event.stopPropagation()">
    <div class="popup-header">
      <h3>{{ selectedPizza?.name }}</h3>
      <button class="close-btn" (click)="closePopup()">&times;</button>
    </div>
    
    <div class="popup-body" *ngIf="selectedPizza">
      <div class="popup-product-info">
        <div class="popup-product-image">
          <img [src]="selectedPizza.url" [alt]="selectedPizza.name">
        </div>
        <div class="popup-product-details">
          <h4>{{ selectedPizza.name }}</h4>
          <p>{{ selectedPizza.description }}</p>
          <div class="popup-product-price">Giá: {{ formatPrice(selectedPizzaPrice) }}</div>
        </div>
      </div>
      
      <div class="popup-options">
        <!-- Size Selection -->
        <div class="option-section">
          <h5>Kích thước</h5>
          <div class="option-list">
            <div class="option-item" *ngFor="let size of sizes">
              <input type="radio" 
                     [id]="'size-' + size.id" 
                     name="pizza-size" 
                     [value]="size.id" 
                     [checked]="selectedSizeId === size.id"
                     (change)="selectSize(size.id)">
              <label [for]="'size-' + size.id">
                {{ size.size_name }} <span *ngIf="size.price_multiplier > 1">(+{{ formatPrice(selectedPizza.base_price * (size.price_multiplier - 1)) }})</span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- Crust Selection -->
        <div class="option-section">
          <h5>Loại đế</h5>
          <div class="option-list">
            <div class="option-item" *ngFor="let type of types">
              <input type="radio" 
                     [id]="'crust-' + type.id" 
                     name="pizza-crust" 
                     [value]="type.id" 
                     [checked]="selectedTypeId === type.id"
                     (change)="selectType(type.id)">
              <label [for]="'crust-' + type.id">
                {{ type.base_name }} <span *ngIf="type.price > 0">(+{{ formatPrice(type.price) }})</span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- Notes -->
        <div class="option-section">
          <h5>Ghi chú</h5>
          <textarea [value]="orderNote" 
                    (input)="updateOrderNote($event)" 
                    class="form-control" 
                    placeholder="Ghi chú thêm cho món ăn (tùy chọn)"></textarea>
        </div>
        
        <!-- Quantity -->
        <div class="option-section">
          <h5>Số lượng</h5>
          <div class="quantity-control">
            <button class="btn-quantity btn-decrease" (click)="decreaseQuantity()">-</button>
            <span class="quantity-value">{{ quantity }}</span>
            <button class="btn-quantity btn-increase" (click)="increaseQuantity()">+</button>
          </div>
        </div>
        
        <!-- Total Price -->
        <div class="total-price">
          <h5>Tổng cộng: {{ formatPrice(selectedPizzaPrice * quantity) }}</h5>
        </div>
      </div>
    </div>
    
    <div class="popup-footer">
      <button class="btn-cancel" (click)="closePopup()">Hủy</button>
      <button class="btn-add-to-cart" (click)="addToCart()">Thêm vào giỏ hàng</button>
    </div>
  </div>
</div>

<app-footer></app-footer>  